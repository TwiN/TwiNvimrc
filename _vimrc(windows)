set nocompatible
source $VIMRUNTIME/vimrc_example.vim
source $VIMRUNTIME/mswin.vim
behave mswin

execute pathogen#infect()
let g:SuperTabDefaultCompletionType = "<C-X><C-O>"

set diffexpr=MyDiff()
function MyDiff()
  let opt = '-a --binary '
  if &diffopt =~ 'icase' | let opt = opt . '-i ' | endif
  if &diffopt =~ 'iwhite' | let opt = opt . '-b ' | endif
  let arg1 = v:fname_in
  if arg1 =~ ' ' | let arg1 = '"' . arg1 . '"' | endif
  let arg2 = v:fname_new
  if arg2 =~ ' ' | let arg2 = '"' . arg2 . '"' | endif
  let arg3 = v:fname_out
  if arg3 =~ ' ' | let arg3 = '"' . arg3 . '"' | endif
  if $VIMRUNTIME =~ ' '
    if &sh =~ '\<cmd'
      if empty(&shellxquote)
        let l:shxq_sav = ''
        set shellxquote&
      endif
      let cmd = '"' . $VIMRUNTIME . '\diff"'
    else
      let cmd = substitute($VIMRUNTIME, ' ', '" ', '') . '\diff"'
    endif
  else
    let cmd = $VIMRUNTIME . '\diff'
  endif
  silent execute '!' . cmd . ' ' . opt . arg1 . ' ' . arg2 . ' > ' . arg3
  if exists('l:shxq_sav')
    let &shellxquote=l:shxq_sav
  endif
endfunction

filetype indent plugin on
"--------------------"
"- WINDOWS SPECIFIC -"
"--------------------"
colorscheme torte
set guioptions-=T  "remove toolbar
set guioptions-=r  "remove right-hand scroll bar
set guioptions-=L  "remove left-hand scroll bar
set guifont=Consolas:h11
"set backupdir=E:\Dropbox\BACKUP\GVimBackupDir
set noundofile

"Eclim
let g:EclimJavaCompleteCaseSensitive=0


" Custom settings
"-----------------------"
"----- INDENTATION -----"
"-----------------------"
"spaces instead of tab 
set tabstop=4
set expandtab
set shiftwidth=4
set softtabstop=4

" auto indent
set autoindent
set smartindent

" searching
set ignorecase "ignore case when searching
set hlsearch "highlight search

" life-saving features
set history=100 "default is 20
set undolevels=200 "undo is life

" Scrolling-related
set scrolloff=3 "always show 3 lines ahead of current line while scrolling
set sidescrolloff=15
set sidescroll=1


"-----------------------"
"--------- MISC --------"
"-----------------------"
set backspace=indent,eol,start "deletes over autoindent and linebreak..
set ruler "shows which line/column the cursor is currently at
set wildmenu "autocomplete for command menu
set autowrite "write to file if modified by another program
set autoread "read to file if modified by another program
set enc=utf-8 "encoding
set title "terminal name => file name
set wrap! "no word wrap

" Copy-paste related
set pastetoggle=<F2>

" gets lower priority when doing tab completition
set suffixes=.bak,~,.swp,.o,.info,.aux,.log,.dvi,.bbl,.blg,.brf,.cb,.ind,.idx,.ilg,.inx,.out,.toc

" No preview
set completeopt-=preview

"-----------------------"
"------- MAPPING -------"
"-----------------------"
" move up through wrap text
noremap <buffer> <silent> k gk
" move down through wrap text
noremap <buffer> <silent> j gj

" autocomplete brackets and such (COMMENTED BECAUSE DELIMITMATE)
"inoremap ( ()<Esc>i
"inoremap " ""<Esc>i
"inoremap [ []<Esc>i
"inoremap { {}<Esc>i

" prevent misclick
imap <F1> <ESC>
nmap <F1> <ESC>

" No arrows 
nnoremap <Left> :echoe "Use h"<CR>
nnoremap <Right> :echoe "Use l"<CR>
nnoremap <Up> :echoe "Use k"<CR>
nnoremap <Down> :echoe "Use j"<CR>

" faster escape
inoremap jk <ESC>

" Typos
iabbrev mathin margin
iabbrev hmtl html
iabbrev htlm html
iabbrev </pre></code> </code></pre>
nmap :X :x
nmap :W :w
nmap :Q :q
nmap ; :
